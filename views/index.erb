<h1>Phone Book</h1>

<div class="entry">
	<% Contact.all().each() do |contact| %>
		<a href="/edit/<%= contact.name() %>"><%= contact.name() %></a>
		<% if contact.phones() == [] %>
			- <span class="missing">no number listed</span>
		<% end %>
		<% index = 0 %>
		<% contact.phones().each() do |phone| %>
			<% if index == 0 %>
				- <%= phone.number() %> (<%= phone.type() %>)
				<% index += 1 %>
			<% else %>
				, <%= phone.number() %> (<%= phone.type() %>)
			<% end %>
		<% end %>
		<br>
	<% end %>
</div>

<hr>

<div class = "add">
	<h2>Add Entry</h2>
	<form action="/add" method="POST">
		<div class="form-group">
			<label class="form-label" for="name">Name:</label>
			<input type="text" id="name" name="name" class="form-control" autofocus>
		</div>
		<div class="form-group">
			<label class="form-label" for="number">Number:</label>
			<input type="tel" id="number" name="number" class="form-control">
		</div>
		<div class="form-group">
			<label class="form-label" for="type">Type:</label>
			<select class="form-control" id="type" name="type">
				<option value="mobile">mobile</option>
    		<option value="home">home</option>
    		<option value="work">work</option>
    		<option value="other">other</option>
  		</select>
		</div>
 		<button type="submit" class="button button-add">Add entry</button>
	</form>
</div>

<br><hr>

<div class = "reset">
	<a href="/reset"><button class="button button-reset">Erase all entries!</button></a>
</div>
